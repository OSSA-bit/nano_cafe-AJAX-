<!DOCTYPE HTML>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="Reset.css">
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: *;">
  <!--Github's security for iframes-->
  <title>Main Menu</title>
</head>

<style>
  body {
    background: linear-gradient(to bottom, beige 30%, #a37c4a 50%, #5f452f 100%);
    position: relative;
    overflow-x: hidden;
  }

  .main-container {
    width: 100%;
    min-height: calc(100vh - 90px);
    backdrop-filter: blur(10px);
    border-radius: 0;
    box-shadow: none;
    margin-top: clamp(60px, 8vh, 90px);
    padding: clamp(2rem, 5vw, 8rem) clamp(1rem, 3vw, 6vw) clamp(1rem, 3vw, 2rem);
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
    overflow: hidden;
  }

  .storehours-wrapper {
    display: grid;
    width: min(90%, 1200px);
    gap: clamp(0.8rem, 1.5vw, 1.2rem);
    margin: clamp(1rem, 3vw, 2rem) auto;
    justify-content: center;
    align-items: stretch;
  }

  .storehour-box {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(6px);
    border-radius: clamp(0.8rem, 1.5vw, 1rem);
    box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.08);
    padding: clamp(0.8rem, 1.5vw, 1rem) clamp(1rem, 2vw, 1.8rem);
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .storehour-box h3 {
    font-size: clamp(0.9rem, 1.4vw, 1.2rem);
    margin: 0.2rem 0;
    color: #4a3a2a;
  }

  .storehour-box p {
    font-size: clamp(0.8rem, 1vw, 1rem);
    color: #5a4b3b;
  }

  .storehour-box.active {
    background: rgba(139, 94, 59, 0.9);
    color: #fff;
    box-shadow: 0 6px 18px rgba(139, 94, 59, 0.5);
    transform: scale(1.02);
    transition: all 0.3s ease;
  }

  .storehour-box.active h3,
  .storehour-box.active p {
    color: #fff;
  }

  .nav-container {
    display: flex;
    width: 100%;
    max-width: min(1400px, 95vw);
    height: auto;
    min-height: clamp(400px, 70vh, 750px);
    margin: clamp(1rem, 3vw, 2rem) auto;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: clamp(0.8rem, 1.5vw, 1rem);
    box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .sidebar {
    width: clamp(180px, 25vw, 270px);
    background: rgba(230, 210, 180, 0.6);
    border-right: 2px solid rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    flex-shrink: 0;
  }

  .sidebar button {
    padding: clamp(0.8rem, 1.2vw, 1rem) clamp(1rem, 1.5vw, 1.2rem);
    border: none;
    background: none;
    color: #3b2a1a;
    font-weight: 600;
    font-size: clamp(0.8rem, 1.1vw, 1.1rem);
    text-align: left;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .sidebar button:hover {
    background: rgba(90, 60, 30, 0.15);
    color: #2b1a0a;
    text-shadow: 0 0 8px rgba(90, 60, 30, 0.6);
    transform: translateX(5px);
  }

  .sidebar button.active {
    background: rgba(90, 60, 30, 0.25);
    color: #2b1a0a;
    text-shadow: 0 0 10px rgba(255, 220, 170, 0.9);
    border-left: 4px solid rgba(150, 100, 50, 0.8);
    transform: translateX(5px);
  }

  .content {
    flex: 1;
    min-height: clamp(300px, 60vh, 800px);
    background: transparent;
    overflow: hidden;
    display: flex;
  }

  iframe {
    width: 100%;
    height: 100%;
    border: none;
    min-height: clamp(300px, 60vh, 800px);
  }

  .horizontal-line {
    width: min(90%, 1200px);
    margin: clamp(1rem, 3vw, 2rem) auto;
  }

  .loading,
  .error {
    text-align: center;
    padding: 2rem;
    color: #666;
    font-style: italic;
  }

  .error {
    color: #d32f2f;
  }


  #contentContainer {
    height: 100%;
    overflow-y: auto;
    padding: 20px;
  }

  #contentContainer img {
    width: clamp(40px, 6vw, 50px);
    height: auto;
    flex-shrink: 0;
  }

  /*-----------------------------------------RESPONSIVE DEISGN-----------------------------------------*/

  /* Large Desktops */
  @media (min-width: 1400px) {
    .storehours-wrapper {
      grid-template-columns: repeat(4, 1fr);
      /* more effective to make it as a child */
    }
  }

  /* Standard Laptops */
  @media (min-width: 1200px) {
    .storehours-wrapper {
      grid-template-columns: repeat(4, 1fr);
      /* more effective to make it as a child */
    }
  }

  /* Large Tablets & Small Laptops */
  @media (max-width: 1199px) and (min-width: 992px) {
    .storehours-wrapper {
      grid-template-columns: repeat(4, 1fr);
      /* more effective to make it as a child */
    }

    .sidebar {
      width: clamp(160px, 28vw, 240px);
    }

    .sidebar button {
      font-size: clamp(0.75rem, 1.3vw, 0.9rem);
      padding: 0.9rem 1rem;
    }
  }

  /* Tablets */
  @media (max-width: 991px) and (min-width: 768px) {
    .storehours-wrapper {
      grid-template-columns: repeat(3, 1fr);
    }

    .nav-container {
      flex-direction: row;
      height: clamp(350px, 65vh, 600px);
    }

    .sidebar {
      width: clamp(140px, 30vw, 200px);
    }

    .sidebar button {
      font-size: clamp(0.7rem, 1.5vw, 0.85rem);
      padding: 0.8rem 0.9rem;
    }

    iframe {
      min-height: clamp(350px, 65vh, 600px);
    }
  }

  /* Large Mobile & Small Tablets */
  @media (max-width: 767px) and (min-width: 600px) {
    .storehours-wrapper {
      grid-template-columns: repeat(2, 1fr);
    }

    .nav-container {
      flex-direction: column;
      height: auto;
      min-height: clamp(500px, 80vh, 700px);
    }

    .sidebar {
      width: 100%;
      flex-direction: row;
      overflow-x: auto;
      border-right: none;
      border-bottom: 2px solid rgba(0, 0, 0, 0.05);
      min-height: 60px;
    }

    .sidebar button {
      flex: 0 0 auto;
      text-align: center;
      white-space: nowrap;
      font-size: clamp(0.7rem, 1.8vw, 0.8rem);
      padding: 0.8rem 0.7rem;
      min-width: max-content;
    }

    .sidebar button:hover,
    .sidebar button.active {
      transform: translateY(2px);
    }

    .content {
      min-height: clamp(400px, 70vh, 600px);
    }

    iframe {
      min-height: clamp(400px, 70vh, 600px);
    }
  }

  /* Mobile Phones */
  @media (max-width: 599px) and (min-width: 480px) {
    .storehours-wrapper {
      grid-template-columns: repeat(2, 1fr);
      gap: 0.7rem;
    }

    .storehour-box {
      padding: 0.7rem 0.9rem;
    }

    .storehour-box h3 {
      font-size: 0.85rem;
    }

    .storehour-box p {
      font-size: 0.75rem;
    }

    .nav-container {
      flex-direction: column;
      height: auto;
      min-height: clamp(450px, 75vh, 650px);
      margin: 1.5rem auto;
    }

    .sidebar {
      width: 100%;
      flex-direction: row;
      overflow-x: auto;
      padding: 0.5rem;
      gap: 0.3rem;
    }

    .sidebar button {
      flex: 0 0 auto;
      text-align: center;
      font-size: 0.75rem;
      padding: 0.7rem 0.6rem;
      border-radius: 8px;
      min-width: max-content;
    }

    .sidebar button.active {
      border-left: none;
      border-bottom: 3px solid rgba(150, 100, 50, 0.8);
      transform: translateY(0);
    }

    .content {
      min-height: clamp(350px, 65vh, 550px);
    }

    iframe {
      min-height: clamp(350px, 65vh, 550px);
    }
  }

  /* Small Mobile Phones */
  @media (max-width: 479px) {
    .main-container {
      margin-top: clamp(50px, 7vh, 70px);
      padding: 1rem 0.8rem;
    }

    .storehours-wrapper {
      grid-template-columns: 1fr;
      gap: 0.6rem;
      width: 95%;
    }

    .storehour-box {
      padding: 0.6rem 0.8rem;
    }

    .storehour-box h3 {
      font-size: 0.8rem;
    }

    .storehour-box p {
      font-size: 0.7rem;
    }

    .nav-container {
      flex-direction: column;
      height: auto;
      min-height: clamp(400px, 70vh, 500px);
      margin: 1rem auto;
      border-radius: 0.8rem;
    }

    .sidebar {
      width: 100%;
      flex-direction: row;
      overflow-x: auto;
      padding: 0.4rem;
      gap: 0.2rem;
      min-height: 55px;
    }

    .sidebar button {
      flex: 0 0 auto;
      text-align: center;
      font-size: 0.7rem;
      padding: 0.6rem 0.5rem;
      border-radius: 6px;
      min-width: max-content;
    }

    .content {
      min-height: clamp(300px, 60vh, 450px);
    }

    iframe {
      min-height: clamp(300px, 60vh, 450px);
    }

    .horizontal-line {
      margin: 1rem auto;
    }
  }

  /* very screens for the sake of my <iframe> */
  @media (max-width: 320px) {
    .main-container {
      padding: 0.8rem 0.5rem;
    }

    .sidebar button {
      font-size: 0.65rem;
      padding: 0.5rem 0.4rem;
    }

    .storehour-box {
      padding: 0.5rem 0.6rem;
    }
  }

  /* touchy better */
  @media (hover: none) and (pointer: coarse) {
    .sidebar button:hover {
      transform: none;
      background: none;
    }

    .sidebar button:active {
      background: rgba(90, 60, 30, 0.25);
    }

    .storehour-box:hover {
      transform: none;
    }
  }

  /* image renderer */
  @media (min-resolution: 192dpi) {
    .storehour-box {
      image-rendering: -webkit-optimize-contrast;
    }
  }


  @media (max-width: 767px) {

    .header-center {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: rgba(138, 84, 4, 0.95);
      backdrop-filter: blur(15px);
      flex-direction: column;
      gap: 0;
      padding: 0;
      border-top: 1px solid rgba(70, 36, 4, 0.3);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .header-center.active {
      display: flex;
    }

    .header-center a {
      padding: 1rem 1.5rem;
      width: 100%;
      text-align: center;
      font-size: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: background-color 0.3s ease;
    }

    .header-center a:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .header-center a:last-child {
      border-bottom: none;
    }
  }


  @media (max-width: 767px) {
    .overlay.active {
      width: 100vw;
      height: 100vh;
    }

    .overlay-content {
      padding: 1.5rem 1rem;
    }

    .submit-btn {
      width: 60vw;
      font-size: 1rem;
      padding: 0.8rem;
    }
  }
</style>

<body>

  <header class="header">
    <div class="header-container">
      <div class="header-left">
        <img src="Nano-Logo.png" alt="Logo" class="logo" />
        <p id="side-title">Nano Café</p>
      </div>

      <button class="menu-toggle" aria-label="Toggle menu" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="header-center" id="mainNav">
        <a href="index.html">Home</a>
        <a href="Menu.html">Menu</a>
        <a href="contact&info.html">About Us</a>
      </nav>

      <div class="header-right">
        <div class="cart">
          <img src="Cart_img.png" alt="Cart Icon" class="cart-icon">
          <span class="cart-text">Your Cart</span>
        </div>
      </div>
    </div>
  </header>

  <div class="overlay" id="cartOverlay">
    <div class="overlay-content">
      <span class="back-arrow" id="close-cart">=></span>
      <h2>Your Cart</h2>
      <div class="cart-items">
      </div>

      <div class="cart-total">
        <hr>
        <p>Total: ₱0.00</p>
      </div>

      <div class="cart-location">
        <label for="location">Location:</label>
        <select id="location">
          <option value="0">-- Select Location --</option>
          <option value="100">Candelaria - ₱100</option>
          <option value="75">Sariaya - ₱75</option>
          <option value="80">Tayabas - ₱80</option>
          <option value="100">Lucban - ₱100</option>
          <option value="75">Pagbilao - ₱75</option>
          <option value="50">Lucena - ₱50</option>
        </select>

        <div class="grand-total">
          <div class="delivery-fee">Delivery Fee: ₱0.00</div>
          <div class="cart-grand-total">GRAND TOTAL: ₱0.00</div>
          <div class="submit-btn">Order Now!</div>
        </div>
      </div>
      <div class="receipts-wrapper">
        <div class="receipts-header">
          <h3>Receipts</h3>
        </div>
        <div id="receipts" class="receipts">
        </div>
      </div>
    </div>
  </div>


  <div class="main-container">
    <div class="storehours-wrapper">
      <div class="storehour-box">
        <h3>Monday</h3>
        <p>10:00 AM – 10:00 PM</p>
      </div>

      <div class="storehour-box">
        <h3>Tuesday</h3>
        <p>10:00 AM – 10:00 PM</p>
      </div>

      <div class="storehour-box">
        <h3>Wednesday</h3>
        <p>10:00 AM – 10:00 PM</p>
      </div>

      <div class="storehour-box">
        <h3>Thursday</h3>
        <p>10:00 AM – 10:00 PM</p>
      </div>

      <div class="storehour-box">
        <h3>Friday</h3>
        <p>10:00 AM – 10:00 PM</p>
      </div>

      <div class="storehour-box">
        <h3>Saturday</h3>
        <p>10:00 AM – 11:00 PM</p>
      </div>

      <div class="storehour-box">
        <h3>Sunday</h3>
        <p>10:00 AM – 11:00 PM</p>
      </div>
    </div>

    <span class="horizontal-line"></span>
    <div class="nav-container">
      <div class="sidebar">
        <button data-section="special">Chef's Special</button>
        <button data-section="hot">Hot Drinks</button>
        <button data-section="cold">Cold Drinks</button>
        <button data-section="frappe">Frappe</button>
        <button data-section="milkshake">Milkshake</button>
        <button data-section="appetizer">Appetizers</button>
        <button data-section="entree">Entrees</button>
        <button data-section="PiznSan">Pizza & Sandwich</button>
        <button data-section="dessert">Dessert</button>
      </div>

      <div class="content">
        <div id="contentContainer">
          <div class="loading"><img src=Nano-Logo.png>Loading menu...<img src=Nano-Logo.png></div>
        </div>
      </div>
    </div>
    <script>
      // Simple content loader without iframes
      async function loadSection(sectionId) {
        const container = document.getElementById('contentContainer');
        container.innerHTML = '<div class="loading">Loading...</div>';

        try {
          // Try to fetch the menu_info.html file
          const response = await fetch('menu_info.html');
          const html = await response.text();

          // Parse the HTML and extract the specific section
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, 'text/html');
          const section = doc.getElementById(sectionId);

          if (section) {
            container.innerHTML = section.innerHTML;
            reattachCartHandlers(); // Reattach cart handlers to new content
          } else {
            container.innerHTML = '<div class="error">Section not found</div>';
          }
        } catch (error) {
          console.error('Failed to load section:', error);
          container.innerHTML = '<div class="error">Failed to load menu. Please try again.</div>';
        }

        // Update active button
        const buttons = document.querySelectorAll('.sidebar button');
        buttons.forEach(btn => {
          btn.classList.remove('active');
          if (btn.dataset.section === sectionId) {
            btn.classList.add('active');
          }
        });
      }

      // Reattach cart handlers to dynamically loaded content
      function reattachCartHandlers() {
        document.querySelectorAll('.price-btn').forEach(button => {
          button.addEventListener('click', () => {
            const itemName = button.previousElementSibling.textContent.trim();
            const itemPrice = button.textContent.trim();

            // Send to cart system
            window.postMessage({
              type: 'add-to-cart',
              item: { name: itemName, price: itemPrice }
            }, '*');

            // Visual feedback
            button.style.transform = 'scale(0.9)';
            setTimeout(() => (button.style.transform = ''), 150);
          });
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Load default section
        loadSection('special');

        // Button handlers
        const buttons = document.querySelectorAll('.sidebar button');
        buttons.forEach(btn => {
          btn.addEventListener('click', function () {
            const sectionId = this.dataset.section;
            loadSection(sectionId);
          });
        });

        // Store hours highlighting
        const boxes = document.querySelectorAll(".storehour-box");
        const now = new Date();
        now.setHours(now.getHours() - 24);
        const today = now.getDay();
        boxes[today]?.classList.add("active");

        // Initialize cart
        if (typeof initCartSystem === 'function') {
          initCartSystem();
        }
      });
    </script>

</body>

</html>